(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99325,e=>{"use strict";function t(){for(var e,t,s=0,a="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(s=0;s<l;s++)t[s]&&(a=e(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}(e))&&(a&&(a+=" "),a+=t);return a}e.s(["clsx",()=>t])},66463,e=>{"use strict";let t=(0,e.i(35884).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],66463)},43938,e=>{"use strict";let t=(0,e.i(35884).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],43938)},93561,e=>{"use strict";let t=(0,e.i(35884).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],93561)},26550,e=>{"use strict";var t=e.i(48277),s=e.i(30668),a=e.i(41428);let r=s.forwardRef(({className:e,type:s,...r},l)=>(0,t.jsx)("input",{type:s,className:(0,a.cn)("flex h-12 w-full rounded-xl glass bg-white/5 px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-start/50 disabled:cursor-not-allowed disabled:opacity-50 text-white placeholder:text-white/40",e),ref:l,...r}));r.displayName="Input",e.s(["Input",()=>r])},6305,e=>{"use strict";let t=(0,e.i(35884).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],6305)},80380,e=>{"use strict";let t=(0,e.i(35884).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],80380)},99507,e=>{"use strict";let t=(0,e.i(35884).default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);e.s(["Bot",()=>t],99507)},42414,e=>{"use strict";let t=(0,e.i(35884).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],42414)},12011,e=>{"use strict";var t=e.i(39057),s=e.i(48277),a=e.i(30668),r=e.i(97599),l=e.i(66463),i=e.i(6305),o=e.i(35884);let n=(0,o.default)("phone-outgoing",[["path",{d:"m16 8 6-6",key:"oawc05"}],["path",{d:"M22 8V2h-6",key:"oqy2zc"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var c=e.i(66730),d=e.i(99507);let m=(0,o.default)("phone-incoming",[["path",{d:"M16 2v6h6",key:"1mfrl5"}],["path",{d:"m22 2-6 6",key:"6f0sa0"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),x=(0,o.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var h=e.i(43938),g=e.i(29150),u=e.i(42414),p=e.i(87635);let y=(0,o.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var b=e.i(93561),f=e.i(80380),j=e.i(9693),N=e.i(26550);let v=t.default.env.NEXT_PUBLIC_API_URL||"http://localhost:5000";function w(){let[e,t]=(0,a.useState)("config"),[o,w]=(0,a.useState)([]),[k,C]=(0,a.useState)([]),[S,M]=(0,a.useState)(null),[A,P]=(0,a.useState)(!1),[I,T]=(0,a.useState)(!0),[z,$]=(0,a.useState)(""),[B,R]=(0,a.useState)(""),[E,L]=(0,a.useState)(`${v}/api/twilio/webhook/voice`),[D,H]=(0,a.useState)(!1),[F,O]=(0,a.useState)("idle"),[V,U]=(0,a.useState)(""),[_,q]=(0,a.useState)(!1),[W,Y]=(0,a.useState)(!1),[J,G]=(0,a.useState)({aiName:"",welcomeMessage:"",customSystemPrompt:"",model:"gpt-4"}),[K,X]=(0,a.useState)(!1),[Q,Z]=(0,a.useState)(!1),ee=()=>{let e={"Content-Type":"application/json"},t=localStorage.getItem("token");return t&&(e.Authorization=`Bearer ${t}`),e};(0,a.useEffect)(()=>{et()},[]);let et=async()=>{await Promise.all([es(),ea(),er()]),T(!1)},es=async()=>{try{let e=await fetch(`${v}/api/organization/info`,{headers:ee()});if(e.ok){let t=await e.json();if(t.success&&t.organization){let e=t.organization;G({aiName:e.aiConfig?.aiName||e.aiName||"ScriptishRx Assistant",welcomeMessage:e.aiConfig?.welcomeMessage||e.aiWelcomeMessage||"Hello, how can I help you today?",customSystemPrompt:e.aiConfig?.systemPrompt||e.customSystemPrompt||"You are a helpful assistant.",model:e.aiConfig?.model||"gpt-4"}),e.twilioConfig?.phoneNumber&&R(e.twilioConfig.phoneNumber)}}}catch(e){console.error("Error fetching org info:",e)}},ea=async()=>{try{let e=await fetch(`${v}/api/voice/logs`,{headers:ee()});if(e.ok){let t=await e.json();w(Array.isArray(t)?t:t.logs||[])}}catch(e){console.error("Error fetching logs:",e)}},er=async()=>{try{let e=await fetch(`${v}/api/voice/calls`,{headers:ee()});if(e.ok){let t=await e.json();C(t.calls||[])}}catch(e){console.error("Error fetching call sessions:",e)}},el=async e=>{try{let t=await fetch(`${v}/api/voice/calls/${e}`,{headers:ee()});if(t.ok){let e=await t.json();M(e.call),P(!0)}}catch(e){console.error("Error fetching call detail:",e)}},ei=async e=>{q(!0);try{let t=await fetch(`${v}/api/voice/calls/${e}/summarize`,{method:"POST",headers:ee()});if(t.ok){let e=await t.json();S&&M({...S,summary:e.summary?.summary}),await er(),alert("Summary regenerated successfully!")}else{let e=await t.json();alert(e.error||"Failed to regenerate summary")}}catch(e){console.error("Error regenerating summary:",e),alert("Error regenerating summary")}finally{q(!1)}},eo=async e=>{Y(!0);try{let t=await fetch(`${v}/api/voice/calls/${e}/meeting-minute`,{method:"POST",headers:ee()});if(t.ok)alert("Meeting minute created successfully! View it in Meeting Minutes.");else{let e=await t.json();alert(e.error||"Failed to create meeting minute")}}catch(e){console.error("Error creating meeting minute:",e),alert("Error creating meeting minute")}finally{Y(!1)}},en=async()=>{X(!0);try{(await fetch(`${v}/api/organization/info`,{method:"PATCH",headers:ee(),body:JSON.stringify({aiName:J.aiName,aiWelcomeMessage:J.welcomeMessage,customSystemPrompt:J.customSystemPrompt,aiConfig:{aiName:J.aiName,welcomeMessage:J.welcomeMessage,systemPrompt:J.customSystemPrompt,model:J.model}})})).ok?alert("AI Agent configuration saved successfully!"):alert("Failed to save configuration")}catch(e){console.error("Error saving config:",e),alert("Error saving configuration")}finally{X(!1)}},ec=async()=>{if(B){Z(!0);try{let e=await fetch(`${v}/api/organization/info`,{method:"PATCH",headers:ee(),body:JSON.stringify({twilioConfig:{phoneNumber:B}})}),t=await e.json();e.ok?alert("Inbound number updated! Please ensure your Twilio webhook is set."):alert(t.error||"Failed to save inbound number")}catch(e){console.error("Error saving inbound:",e),alert("An unexpected error occurred.")}finally{Z(!1)}}},ed=async e=>{e.preventDefault();let t=z.trim();if(t){H(!0),O("idle");try{let e=await fetch(`${v}/api/voice/outbound`,{method:"POST",headers:ee(),body:JSON.stringify({to:t})}),s=await e.json();if(!e.ok)throw Error(s.message||s.error||"Call failed");O("success"),U("Call initiated! Your AI agent will answer."),$(""),setTimeout(()=>{ea(),er()},2e3)}catch(e){console.error("Call error:",e),O("error"),U(e.message)}finally{H(!1)}}},em=e=>{if(!e)return"--";let t=Math.floor(e/60);return`${t}:${(e%60).toString().padStart(2,"0")}`},ex=e=>new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)("div",{className:"space-y-8 max-w-7xl mx-auto pb-12",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Voice Agent Studio"}),(0,s.jsx)("p",{className:"text-gray-500 mt-2",children:"Design, train, and manage your AI voice concierge."})]})}),(0,s.jsxs)("div",{className:"flex gap-2 bg-gray-100 p-1 rounded-xl w-fit",children:[(0,s.jsxs)("button",{onClick:()=>t("config"),className:`px-5 py-2.5 rounded-lg font-medium text-sm transition-all ${"config"===e?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[(0,s.jsx)(c.Settings,{className:"w-4 h-4 inline-block mr-2"}),"Configuration"]}),(0,s.jsxs)("button",{onClick:()=>t("history"),className:`px-5 py-2.5 rounded-lg font-medium text-sm transition-all ${"history"===e?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[(0,s.jsx)(h.Clock,{className:"w-4 h-4 inline-block mr-2"}),"Call History",k.length>0&&(0,s.jsx)("span",{className:"ml-2 bg-blue-100 text-blue-600 text-xs px-2 py-0.5 rounded-full",children:k.length})]})]}),"config"===e&&(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-7 space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-[1.5rem] shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-600 text-white rounded-lg shadow-sm",children:(0,s.jsx)(d.Bot,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"AI Personality & Logic"}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-0.5",children:"Customize how the AI thinks and speaks."})]})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"Agent Name"}),(0,s.jsx)(N.Input,{value:J.aiName,onChange:e=>G({...J,aiName:e.target.value}),placeholder:"e.g. Sarah from Front Desk",className:"bg-white border-gray-300 text-gray-900"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"AI Model"}),(0,s.jsxs)("select",{value:J.model,onChange:e=>G({...J,model:e.target.value}),className:"w-full h-10 px-3 rounded-md border border-gray-300 bg-white text-gray-900 text-sm",children:[(0,s.jsx)("option",{value:"gpt-4",children:"GPT-4 (Recommended)"}),(0,s.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Fastest)"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"Welcome Message"}),(0,s.jsx)(N.Input,{value:J.welcomeMessage,onChange:e=>G({...J,welcomeMessage:e.target.value}),placeholder:"e.g. Thanks for calling ScriptishRx. How can I help?",className:"bg-white border-gray-300 text-gray-900"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"System Instructions"}),(0,s.jsx)("textarea",{value:J.customSystemPrompt,onChange:e=>G({...J,customSystemPrompt:e.target.value}),placeholder:"Describe your business, hours, and how to handle scenarios...",className:"w-full min-h-[200px] p-4 rounded-xl border border-gray-300 bg-white text-gray-900 text-sm resize-y"})]}),(0,s.jsxs)(j.Button,{onClick:en,disabled:K,className:"w-full h-12 bg-gray-900 hover:bg-black text-white rounded-xl font-semibold",children:[K?(0,s.jsx)(l.Activity,{className:"w-5 h-5 animate-spin mr-2"}):(0,s.jsx)(i.Save,{className:"w-5 h-5 mr-2"}),K?"Saving...":"Save AI Configuration"]})]})]})}),(0,s.jsxs)("div",{className:"lg:col-span-5 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-[1.5rem] shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-600 text-white rounded-lg shadow-sm",children:(0,s.jsx)(m,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Inbound Configuration"}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-0.5",children:"Set up your business phone line."})]})]}),(0,s.jsxs)("div",{className:"p-6 space-y-5",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"Twilio Phone Number"}),(0,s.jsx)(N.Input,{value:B,onChange:e=>R(e.target.value),placeholder:"+1 (555) 123-4567",className:"bg-white border-gray-300 text-gray-900"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"Webhook URL"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(N.Input,{readOnly:!0,value:E,className:"bg-gray-50 text-gray-500 text-xs font-mono"}),(0,s.jsx)(j.Button,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(E),alert("Copied to clipboard!")},className:"px-3",children:(0,s.jsx)(x,{className:"w-4 h-4"})})]})]}),(0,s.jsx)(j.Button,{onClick:ec,disabled:Q||!B,className:"w-full bg-purple-600 hover:bg-purple-700 text-white rounded-xl",children:Q?"Saving...":"Link Inbound Number"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-[1.5rem] shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-green-600 text-white rounded-lg shadow-sm",children:(0,s.jsx)(n,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Test Your Agent"}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-0.5",children:"Receive a call to verify your AI configuration."})]})]}),(0,s.jsx)("div",{className:"p-6 space-y-5",children:(0,s.jsxs)("form",{onSubmit:ed,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"Your Phone Number"}),(0,s.jsx)(N.Input,{placeholder:"+1 (555) 000-0000",value:z,onChange:e=>$(e.target.value),className:"h-11 bg-white border-gray-300 text-gray-900"})]}),(0,s.jsx)(j.Button,{type:"submit",className:"w-full h-11 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold",disabled:D||!z,children:D?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Activity,{className:"w-4 h-4 animate-spin mr-2"})," Calling..."]}):"Call Me"}),"success"===F&&(0,s.jsx)("div",{className:"p-3 bg-green-50 text-green-700 rounded-lg text-sm text-center border border-green-100",children:V}),"error"===F&&(0,s.jsx)("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg text-sm text-center border border-red-100",children:V})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:k.length}),(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:"Total Calls"})]}),(0,s.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-gray-200 shadow-sm text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-1",children:"Active"}),(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:"Status"})]})]})]})]}),"history"===e&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(j.Button,{variant:"outline",onClick:er,className:"gap-2",children:[(0,s.jsx)(u.RefreshCw,{className:"w-4 h-4"}),"Refresh"]})}),(0,s.jsx)("div",{className:"bg-white rounded-[1.5rem] shadow-sm border border-gray-200 overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b border-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Caller"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Duration"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Summary"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 uppercase",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-500 uppercase",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===k.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-8 py-12 text-center text-gray-500",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,s.jsx)(r.Phone,{className:"w-6 h-6 text-gray-400"})}),(0,s.jsx)("p",{className:"font-medium",children:"No calls recorded yet."}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Inbound calls will appear here with transcripts and summaries."})]})})}):k.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group cursor-pointer",onClick:()=>el(e.id),children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:`inline-flex px-2.5 py-1 rounded-md text-xs font-bold uppercase tracking-wider border ${{completed:"bg-green-50 text-green-700 border-green-100",in_progress:"bg-blue-50 text-blue-700 border-blue-100",failed:"bg-red-50 text-red-600 border-red-100"}[e.status]||"bg-gray-50 text-gray-600 border-gray-100"}`,children:"in_progress"===e.status?"Live":e.status})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-gray-900 group-hover:text-blue-600",children:e.client?.name||e.callerPhone||"Unknown"}),e.client&&(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.callerPhone})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-600 font-mono",children:em(e.duration)}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-600 max-w-xs truncate",children:e.summary||(0,s.jsx)("span",{className:"text-gray-400 italic",children:"No summary"})}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-500 text-sm",children:ex(e.startedAt)}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)(j.Button,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700",children:["View ",(0,s.jsx)(y,{className:"w-4 h-4 ml-1"})]})})]},e.id))})]})})})]}),A&&S&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-blue-600 text-white rounded-xl",children:(0,s.jsx)(r.Phone,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Call Details"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[S.client?.name||S.callerPhone," â€¢ ",ex(S.startedAt)]})]})]}),(0,s.jsx)("button",{onClick:()=>P(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,s.jsx)(p.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Duration"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900",children:em(S.duration)})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Status"}),(0,s.jsx)("p",{className:`text-xl font-bold ${"completed"===S.status?"text-green-600":"text-blue-600"}`,children:"completed"===S.status?"Completed":"In Progress"})]}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Direction"}),(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900 capitalize",children:S.direction})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 p-5 rounded-xl border border-blue-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900",children:"AI Summary"}),(0,s.jsxs)(j.Button,{variant:"ghost",size:"sm",onClick:()=>ei(S.id),disabled:_,className:"text-blue-600 hover:text-blue-700",children:[_?(0,s.jsx)(f.Loader2,{className:"w-4 h-4 animate-spin mr-1"}):(0,s.jsx)(u.RefreshCw,{className:"w-4 h-4 mr-1"}),"Regenerate"]})]}),(0,s.jsx)("p",{className:"text-gray-700",children:S.summary||"No summary available. Click Regenerate to create one."})]}),S.actionItems&&S.actionItems.length>0&&(0,s.jsxs)("div",{className:"bg-amber-50 p-5 rounded-xl border border-amber-100",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900 mb-3",children:"Action Items"}),(0,s.jsx)("ul",{className:"space-y-2",children:S.actionItems.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)(b.CheckCircle,{className:"w-4 h-4 text-amber-600 mt-0.5"}),(0,s.jsx)("span",{className:"text-gray-700",children:e.description})]},t))})]}),S.transcript&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900 mb-3",children:"Full Transcript"}),(0,s.jsx)("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 max-h-64 overflow-y-auto",children:(0,s.jsx)("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:S.transcript})})]})]}),(0,s.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-between",children:[(0,s.jsx)(j.Button,{variant:"outline",onClick:()=>P(!1),children:"Close"}),(0,s.jsxs)(j.Button,{onClick:()=>eo(S.id),disabled:W||!S.transcript,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[W?(0,s.jsx)(f.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):(0,s.jsx)(g.FileText,{className:"w-4 h-4 mr-2"}),"Create Meeting Minute"]})]})]})})]})}e.s(["default",()=>w],12011)}]);