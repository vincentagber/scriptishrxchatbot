(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99325,e=>{"use strict";function s(){for(var e,s,t=0,a="",r=arguments.length;t<r;t++)(e=arguments[t])&&(s=function e(s){var t,a,r="";if("string"==typeof s||"number"==typeof s)r+=s;else if("object"==typeof s)if(Array.isArray(s)){var l=s.length;for(t=0;t<l;t++)s[t]&&(a=e(s[t]))&&(r&&(r+=" "),r+=a)}else for(a in s)s[a]&&(r&&(r+=" "),r+=a);return r}(e))&&(a&&(a+=" "),a+=s);return a}e.s(["clsx",()=>s])},49449,e=>{"use strict";let s=(0,e.i(35884).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],49449)},3333,e=>{"use strict";let s=(0,e.i(35884).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],3333)},66730,e=>{"use strict";let s=(0,e.i(35884).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>s],66730)},6305,e=>{"use strict";let s=(0,e.i(35884).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>s],6305)},80380,e=>{"use strict";let s=(0,e.i(35884).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],80380)},99507,e=>{"use strict";let s=(0,e.i(35884).default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);e.s(["Bot",()=>s],99507)},26550,e=>{"use strict";var s=e.i(48277),t=e.i(30668),a=e.i(41428);let r=t.forwardRef(({className:e,type:t,...r},l)=>(0,s.jsx)("input",{type:t,className:(0,a.cn)("flex h-12 w-full rounded-xl glass bg-white/5 px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-start/50 disabled:cursor-not-allowed disabled:opacity-50 text-white placeholder:text-white/40",e),ref:l,...r}));r.displayName="Input",e.s(["Input",()=>r])},10459,e=>{"use strict";let s=(0,e.i(35884).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>s],10459)},39736,e=>{"use strict";var s=e.i(39057),t=e.i(48277),a=e.i(30668),r=e.i(35884);let l=(0,r.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var i=e.i(99507),o=e.i(80380),n=e.i(10459);let d=(0,r.default)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),c=(0,r.default)("mic-off",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]]);var h=e.i(49449),m=e.i(41428),u=e.i(9693),x=e.i(26550);function g({tenantId:e,token:r,isDashboard:g=!1}){let[p,f]=(0,a.useState)([]),[b,y]=(0,a.useState)(""),[w,v]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[k,M]=(0,a.useState)(!1),[S,A]=(0,a.useState)(!1),C=(0,a.useRef)(null);(0,a.useEffect)(()=>{C.current?.scrollIntoView({behavior:"smooth"})},[p]),(0,a.useEffect)(()=>{I(),z()},[]);let I=async()=>{try{let e={};r&&(e.Authorization=`Bearer ${r}`);let s=await fetch("/api/chat/status",{headers:e}),t=await s.json();t.success&&(N(!0===t.mockMode),A("online"===t.status))}catch(e){console.error("Error checking chat status:",e),A(!1)}},z=async()=>{try{let e={};r&&(e.Authorization=`Bearer ${r}`);let s=await fetch("/api/chat/history",{headers:e});if(s.ok){let e=await s.json();e.success&&e.messages&&Array.isArray(e.messages)&&f(e.messages)}}catch(e){console.error("Error fetching chat history:",e)}},q=async t=>{if(t&&t.preventDefault(),!b.trim()||w)return;let a=b.trim();y(""),v(!0);let l={id:`temp_${Date.now()}`,role:"user",content:a,timestamp:new Date().toISOString()};f(e=>[...e,l]);try{let t=e||s.default.env.NEXT_PUBLIC_LANDING_TENANT_ID,l={"Content-Type":"application/json"};r&&(l.Authorization=`Bearer ${r}`);let i=await fetch("/api/chat/message",{method:"POST",headers:l,body:JSON.stringify({message:a,tenantId:t||"default"})}),o=await i.json();if(o.success&&o.response){let e={id:`assistant_${Date.now()}`,role:"assistant",content:o.response,timestamp:new Date().toISOString(),mockMode:o.mockMode};f(s=>[...s,e])}else throw Error(o.error||"Failed to get response")}catch(s){console.error("Error sending message:",s);let e={id:`error_${Date.now()}`,role:"assistant",content:"Hello! I am your AI Business Concierge. I can help with bookings, client management, or analytics. How can I assist you today?",timestamp:new Date().toISOString(),error:!0};f(s=>[...s,e])}finally{v(!1)}},P=async()=>{if(confirm("Are you sure you want to clear the chat history?"))try{let e={};r&&(e.Authorization=`Bearer ${r}`);let s=await fetch("/api/chat/history",{method:"DELETE",headers:e}),t=await s.json();s.ok&&t.success&&f([])}catch(e){console.error("Error clearing history:",e)}};return(0,t.jsxs)("div",{className:(0,m.cn)("flex flex-col w-full bg-white md:rounded-3xl shadow-sm border border-slate-100 overflow-hidden font-sans",g?"h-full min-h-[500px]":"h-[500px]"),children:[(0,t.jsxs)("div",{className:(0,m.cn)("p-4 border-b border-slate-100 flex items-center justify-between",g?"bg-white/80 backdrop-blur-sm px-6 py-4":"bg-slate-900 border-slate-800"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:(0,m.cn)("rounded-xl flex items-center justify-center shadow-lg transition-transform hover:scale-105",g?"w-10 h-10 bg-gradient-to-br from-slate-900 to-slate-800 shadow-slate-900/20":"w-10 h-10 bg-gradient-to-br from-primary-start to-primary-end shadow-primary-start/20"),children:(0,t.jsx)(n.Sparkles,{className:(0,m.cn)("w-5 h-5","text-white")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:(0,m.cn)("font-bold text-sm tracking-tight",g?"text-slate-900 text-base":"text-white"),children:g?"AI Concierge":"AI Assistant"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:(0,m.cn)("w-2 h-2 rounded-full animate-pulse",S?"bg-emerald-500":"bg-rose-500")}),(0,t.jsx)("p",{className:(0,m.cn)("text-xs font-medium",g?"text-slate-500":"text-slate-400"),children:S?g?"Active & Ready":"Online Now":"Connecting..."})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[j&&g&&(0,t.jsx)("span",{className:"px-2.5 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-bold uppercase tracking-wider rounded-md border border-slate-200 hidden md:inline-block",children:"Dev Mode"}),(0,t.jsx)(u.Button,{variant:"ghost",size:"icon",onClick:P,className:(0,m.cn)("rounded-full w-8 h-8",g?"text-slate-400 hover:text-red-500 hover:bg-red-50":"text-slate-400 hover:text-white hover:bg-white/10"),title:"Clear history",children:(0,t.jsx)(h.Trash2,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 scroll-smooth",children:[0===p.length?(0,t.jsxs)("div",{className:(0,m.cn)("flex flex-col items-center justify-center h-full text-center p-6 opacity-0 animate-in fade-in zoom-in duration-500 fill-mode-forwards",{"opacity-100":!0}),children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-lg shadow-blue-900/5 flex items-center justify-center mb-5 border border-slate-100/50",children:(0,t.jsx)(i.Bot,{className:"w-8 h-8 text-blue-600"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2 tracking-tight",children:"How can I help you?"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm max-w-[260px] mx-auto leading-relaxed mb-8",children:"I'm here to assist with bookings, answer questions, or help you navigate."}),(0,t.jsx)("div",{className:(0,m.cn)("grid gap-2.5 w-full",g?"grid-cols-1 sm:grid-cols-2 max-w-md":"grid-cols-1"),children:["Check pricing information","How does the system work?","Schedule a new demo"].map(e=>(0,t.jsx)("button",{onClick:()=>{y(e)},className:"px-4 py-3 bg-white border border-slate-200/60 rounded-xl text-sm font-medium text-slate-600 hover:border-blue-500 hover:text-blue-600 hover:shadow-md hover:shadow-blue-500/5 transition-all text-left whitespace-normal h-auto leading-snug group",children:(0,t.jsx)("span",{className:"group-hover:translate-x-0.5 transition-transform inline-block",children:e})},e))})]}):p.map(e=>(0,t.jsx)("div",{className:(0,m.cn)("flex w-full animate-in fade-in slide-in-from-bottom-2 duration-300","user"===e.role?"justify-end":"justify-start"),children:(0,t.jsxs)("div",{className:(0,m.cn)("flex max-w-[85%] gap-3","user"===e.role?"flex-row-reverse":"flex-row"),children:[(0,t.jsx)("div",{className:(0,m.cn)("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm mt-1","user"===e.role?"bg-slate-200":"bg-white border border-slate-100 text-blue-600"),children:"user"===e.role?(0,t.jsx)("div",{className:"w-full h-full rounded-full bg-slate-200/80"}):(0,t.jsx)(i.Bot,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:(0,m.cn)("p-3.5 rounded-2xl text-sm leading-relaxed shadow-sm","user"===e.role?"bg-slate-900 text-white rounded-tr-none shadow-slate-900/10":"bg-white text-slate-700 border border-slate-100 rounded-tl-none shadow-slate-200/50",e.error&&"bg-red-50 text-red-600 border-red-200"),children:[e.content,(0,t.jsx)("div",{className:(0,m.cn)("text-[10px] mt-1.5 font-medium","user"===e.role?"text-slate-400/80":"text-slate-400"),children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},e.id)),w&&(0,t.jsx)("div",{className:"flex justify-start animate-in fade-in",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white border border-slate-100 flex items-center justify-center flex-shrink-0 shadow-sm text-blue-600 mt-1",children:(0,t.jsx)(i.Bot,{className:"w-5 h-5"})}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-2xl rounded-tl-none border border-slate-100 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-bounce"})]})})]})}),(0,t.jsx)("div",{ref:C})]}),(0,t.jsxs)("div",{className:(0,m.cn)("p-3 bg-white border-t border-slate-100",g?"p-4":"p-3"),children:[(0,t.jsxs)("form",{onSubmit:q,className:"flex items-end gap-2 p-1.5 bg-white border border-slate-200 rounded-[1.5rem] focus-within:ring-4 focus-within:ring-slate-100 focus-within:border-slate-300 transition-all shadow-sm hover:border-slate-300",children:[(0,t.jsx)(u.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{k?M(!1):(M(!0),setTimeout(()=>{M(!1),alert("Voice recording feature coming soon!")},1e3))},className:(0,m.cn)("rounded-full w-9 h-9 flex-shrink-0 hover:bg-slate-100 text-slate-500 transition-colors",k&&"bg-red-100 text-red-500 hover:bg-red-200 animate-pulse"),title:"Voice Input (Coming Soon)",children:k?(0,t.jsx)(c,{className:"w-4 h-4"}):(0,t.jsx)(d,{className:"w-4 h-4"})}),(0,t.jsx)(x.Input,{value:b,onChange:e=>y(e.target.value),placeholder:"Type a message to chat...",disabled:w,className:"flex-1 border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 px-2 py-2.5 h-auto max-h-32 min-h-[44px] text-sm text-slate-900 placeholder:text-slate-500 font-medium",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),q())}}),(0,t.jsx)(u.Button,{type:"submit",disabled:w||!b.trim(),className:(0,m.cn)("rounded-full w-9 h-9 p-0 flex items-center justify-center transition-all flex-shrink-0 shadow-sm",b.trim()?"bg-slate-900 hover:bg-black text-white scale-100 shadow-slate-900/20":"bg-slate-100 text-slate-400 scale-95"),children:w?(0,t.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin text-white"}):(0,t.jsx)(l,{className:"w-4 h-4 ml-0.5"})})]}),(0,t.jsx)("div",{className:"text-center mt-3",children:(0,t.jsx)("p",{className:"text-[10px] font-medium text-slate-400/80 uppercase tracking-widest",children:"Powered by ScriptishRx AI"})})]})]})}e.s(["default",()=>g],39736)},6396,e=>{"use strict";e.i(39057);var s=e.i(48277),t=e.i(30668),a=e.i(39736),r=e.i(99507),l=e.i(6305),i=e.i(10459),o=e.i(76053),n=e.i(3333),d=e.i(49449),c=e.i(35884);let h=(0,c.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),m=(0,c.default)("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);var u=e.i(66730),x=e.i(67494),g=e.i(9693),p=e.i(26550);function f(){let[e,c]=(0,t.useState)(!0),[f,y]=(0,t.useState)(!1),[w,v]=(0,t.useState)({aiName:"",welcomeMessage:"",customSystemPrompt:"",model:"gpt-4",faqs:[]}),j=()=>{let e={"Content-Type":"application/json"},s=localStorage.getItem("token");return s&&(e.Authorization=`Bearer ${s}`),e};(0,t.useEffect)(()=>{N()},[]);let N=async()=>{try{let e=await fetch("/api/organization/info",{headers:j()});if(e.ok){let s=await e.json();if(s.success&&s.organization){let e=s.organization;v({aiName:e.aiConfig?.aiName||e.aiName||"ScriptishRx Assistant",welcomeMessage:e.aiConfig?.welcomeMessage||e.aiWelcomeMessage||"Hello, how can I help you today?",customSystemPrompt:e.aiConfig?.systemPrompt||e.customSystemPrompt||"You are a helpful assistant.",model:e.aiConfig?.model||"gpt-4",faqs:e.aiConfig?.faqs||[]})}}}catch(e){console.error("Error fetching org info:",e)}finally{c(!1)}},k=async()=>{y(!0);try{(await fetch("/api/organization/info",{method:"PATCH",headers:j(),body:JSON.stringify({aiName:w.aiName,aiWelcomeMessage:w.welcomeMessage,customSystemPrompt:w.customSystemPrompt,aiConfig:{aiName:w.aiName,welcomeMessage:w.welcomeMessage,systemPrompt:w.customSystemPrompt,model:w.model,faqs:w.faqs}})})).ok?alert("Chat Agent configuration saved successfully!"):alert("Failed to save configuration")}catch(e){console.error("Error saving config:",e),alert("Error saving configuration")}finally{y(!1)}},M=()=>{v(e=>({...e,faqs:[...e.faqs||[],{question:"",answer:""}]}))},S=(e,s,t)=>{v(a=>{let r=[...a.faqs||[]];return r[e]={...r[e],[s]:t},{...a,faqs:r}})};return(0,s.jsxs)("div",{className:"space-y-8 max-w-7xl mx-auto pb-12",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Chat Agent Studio"}),(0,s.jsx)("p",{className:"text-gray-500 mt-2",children:"Design your AI chatbot's personality and knowledge base."})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-7 space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-[1.5rem] shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-600 text-white rounded-lg shadow-sm",children:(0,s.jsx)(r.Bot,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Agent Persona"}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-0.5",children:"Customize the identity and brain of your bot."})]})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"Agent Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.Input,{value:w.aiName,onChange:e=>v({...w,aiName:e.target.value}),placeholder:"e.g. ScriptishRx Support",className:"pl-10 bg-white border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-blue-500 focus:ring-blue-500"}),(0,s.jsx)(x.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"AI Model"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:w.model,onChange:e=>v({...w,model:e.target.value}),className:"w-full h-10 pl-3 pr-8 rounded-md border border-gray-300 bg-white text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none cursor-pointer",children:[(0,s.jsx)("option",{value:"gpt-4",children:"GPT-4 (Recommended for accuracy)"}),(0,s.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Faster speed)"})]}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-gray-500",children:(0,s.jsx)(u.Settings,{className:"w-4 h-4"})})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"Welcome Message"}),(0,s.jsx)(p.Input,{value:w.welcomeMessage,onChange:e=>v({...w,welcomeMessage:e.target.value}),placeholder:"e.g. Hello! How can I assist you today?",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-blue-500 focus:ring-blue-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"The first message the user sees when opening the chat."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-800",children:"System Instructions (Prompt)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("textarea",{value:w.customSystemPrompt,onChange:e=>v({...w,customSystemPrompt:e.target.value}),placeholder:"You are a helpful customer support agent. Your goal is to answer questions about...",className:"w-full min-h-[180px] p-4 rounded-xl border border-gray-300 bg-white text-gray-900 placeholder:text-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y leading-relaxed shadow-sm"}),(0,s.jsx)("div",{className:"absolute bottom-3 right-3 text-gray-300 pointer-events-none",children:(0,s.jsx)(i.Sparkles,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100 flex items-start gap-2",children:[(0,s.jsx)(h,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("p",{className:"text-xs text-blue-800 leading-relaxed",children:[(0,s.jsx)("strong",{children:"Tip:"}),' Be specific about your business rules. For example: "Always be polite," "If asked about pricing, say it depends on the insurance," or "Our office hours are 9 AM to 5 PM."']})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-[1.5rem] shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-600 text-white rounded-lg shadow-sm",children:(0,s.jsx)(m,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Knowledge Base"}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-0.5",children:"Train the AI with specific Question & Answer pairs."})]})]}),(0,s.jsxs)(g.Button,{size:"sm",onClick:M,variant:"outline",className:"text-purple-600 border-purple-200 hover:bg-purple-50 hover:border-purple-300 transition-colors",children:[(0,s.jsx)(n.Plus,{className:"w-4 h-4 mr-1"})," Add Q&A"]})]}),(0,s.jsx)("div",{className:"p-6 space-y-4",children:w.faqs&&0!==w.faqs.length?w.faqs.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm relative group transition-all hover:border-purple-300 hover:shadow-md",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Question"}),(0,s.jsx)(p.Input,{placeholder:"e.g. What is your cancellation policy?",value:e.question,onChange:e=>S(t,"question",e.target.value),className:"bg-gray-50 border-gray-200 font-medium text-gray-900 placeholder:text-gray-400 focus:bg-white transition-colors"})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"AI Answer"}),(0,s.jsx)("textarea",{placeholder:"e.g. You can cancel up to 24 hours in advance for a full refund.",value:e.answer,onChange:e=>S(t,"answer",e.target.value),className:"w-full p-3 rounded-lg border border-gray-200 bg-gray-50 text-gray-900 placeholder:text-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:bg-white min-h-[80px] transition-colors"})]})]}),(0,s.jsx)("button",{onClick:()=>{v(e=>({...e,faqs:(e.faqs||[]).filter((e,s)=>s!==t)}))},className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg opacity-0 group-hover:opacity-100 transition-all",title:"Remove Q&A",children:(0,s.jsx)(d.Trash2,{className:"w-4 h-4"})})]},t)):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-gray-400 bg-gray-50/50 rounded-xl border-2 border-dashed border-gray-200",children:[(0,s.jsx)(m,{className:"w-10 h-10 mb-3 opacity-20"}),(0,s.jsx)("p",{className:"font-medium text-gray-500",children:"No FAQs added yet"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"Add questions to help your bot answer accurately."}),(0,s.jsx)(g.Button,{variant:"ghost",onClick:M,className:"mt-4 text-purple-600 hover:bg-purple-50",children:"Add your first Q&A"})]})})]}),(0,s.jsxs)(g.Button,{onClick:k,disabled:f,className:"w-full h-12 bg-gray-900 hover:bg-black text-white rounded-xl font-bold shadow-lg shadow-gray-200 transition-all hover:-translate-y-0.5 active:scale-95",children:[f?(0,s.jsx)(b,{}):(0,s.jsx)(l.Save,{className:"w-5 h-5 mr-2"}),f?"Saving Configuration...":"Save All Changes"]})]}),(0,s.jsx)("div",{className:"lg:col-span-5 space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-[1.5rem] shadow-sm border border-gray-200 overflow-hidden h-[calc(100vh-12rem)] sticky top-6 flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-green-600 text-white rounded-lg shadow-sm",children:(0,s.jsx)(o.MessageSquare,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Live Preview"}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-0.5",children:"interact with your bot."})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-green-50 text-green-700 rounded-full text-xs font-medium border border-green-100",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Online"]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-hidden bg-gray-50 p-4 relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] opacity-5 pointer-events-none"}),(0,s.jsx)("div",{className:"h-full rounded-2xl overflow-hidden shadow-lg border border-gray-200 bg-white relative z-10",children:(0,s.jsx)(a.default,{isDashboard:!0})})]})]})})]})]})}function b(){return(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}e.s(["default",()=>f],6396)}]);