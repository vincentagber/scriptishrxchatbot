(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,216,e=>{"use strict";let t=(0,e.i(35884).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],216)},43938,e=>{"use strict";let t=(0,e.i(35884).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],43938)},93561,e=>{"use strict";let t=(0,e.i(35884).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],93561)},75337,e=>{"use strict";var t=e.i(48277),a=e.i(30668),s=e.i(94576),r=e.i(216),l=e.i(43938),i=e.i(93561),c=e.i(35884);let n=(0,c.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),d=(0,c.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),o=(0,c.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function x(){let[e,c]=(0,a.useState)([]),[x,m]=(0,a.useState)(!0),[h,u]=(0,a.useState)("all"),y=async()=>{try{m(!0);let e=await fetch("/api/notifications",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await e.json();Array.isArray(t)&&c(t)}catch(e){console.error("Failed to fetch notifications",e)}finally{m(!1)}};(0,a.useEffect)(()=>{y()},[]);let g=async()=>{try{(await fetch("/api/notifications/read-all",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok&&c(e=>e.map(e=>({...e,isRead:!0})))}catch(e){console.error("Failed to mark all read",e)}},f="unread"===h?e.filter(e=>!e.isRead):e;return(0,t.jsxs)("div",{className:"p-8 max-w-5xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage and view your activity history."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"flex bg-white p-1 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsx)("button",{onClick:()=>u("all"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${"all"===h?"bg-gray-100 text-gray-900":"text-gray-500 hover:text-gray-700"}`,children:"All"}),(0,t.jsx)("button",{onClick:()=>u("unread"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${"unread"===h?"bg-blue-50 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Unread"})]}),e.some(e=>!e.isRead)&&(0,t.jsxs)("button",{onClick:g,className:"px-4 py-2 bg-white text-gray-700 border border-gray-200 rounded-xl font-medium shadow-sm hover:bg-gray-50 transition-colors flex items-center gap-2",children:[(0,t.jsx)(r.Check,{className:"w-4 h-4"}),"Mark all read"]})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden min-h-[400px]",children:x?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):f.length>0?(0,t.jsx)("div",{className:"divide-y divide-gray-100",children:f.map(e=>(0,t.jsxs)("div",{className:`p-6 hover:bg-gray-50 transition-colors flex gap-4 ${!e.isRead?"bg-blue-50/10":""}`,children:[(0,t.jsx)("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${!e.isRead?"bg-blue-100":"bg-gray-100"}`,children:(e=>{switch(e){case"success":return(0,t.jsx)(i.CheckCircle,{className:"w-5 h-5 text-green-500"});case"warning":return(0,t.jsx)(d,{className:"w-5 h-5 text-yellow-500"});case"error":return(0,t.jsx)(o,{className:"w-5 h-5 text-red-500"});default:return(0,t.jsx)(n,{className:"w-5 h-5 text-blue-500"})}})(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,t.jsx)("h3",{className:`text-base font-semibold ${!e.isRead?"text-gray-900":"text-gray-700"}`,children:e.title}),(0,t.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1 flex-shrink-0 ml-4",children:[(0,t.jsx)(l.Clock,{className:"w-3 h-3"}),new Date(e.createdAt).toLocaleDateString()," at ",new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,t.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed mb-2",children:e.message}),!e.isRead&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"New"})]})]},e.id))}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-96 text-center px-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(s.Bell,{className:"w-8 h-8 text-gray-300"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No notifications found"}),(0,t.jsx)("p",{className:"text-gray-500 mt-2 max-w-sm",children:"unread"===h?"You're all caught up! Switch to 'All' to view your history.":"We'll notify you when something important happens."})]})})]})}e.s(["default",()=>x],75337)}]);